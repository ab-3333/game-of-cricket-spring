{"ast":null,"code":"var _jsxFileName = \"/Users/abaghla/Spring/client 2/src/components/start/Start.jsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useTeamContext } from \"../../context/TeamContext\";\nimport \"./start.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Start = () => {\n  _s();\n  const api = \"http://localhost:8080/match/play\";\n  const {\n    teams\n  } = useTeamContext();\n  const [isDisabled, setIsDisabled] = useState(false);\n  const onStartMatch = async e => {\n    try {\n      const data = teams.filter(_ref => {\n        let {\n          isPlaying\n        } = _ref;\n        return isPlaying;\n      }).map(_ref2 => {\n        let {\n          teamId,\n          teamName\n        } = _ref2;\n        return {\n          id: teamId,\n          name: teamName\n        };\n      });\n      await axios.get(api, data);\n    } catch (error) {\n      console.error(error.message);\n    }\n  };\n  useEffect(() => {\n    const numberOfPlayingTeams = teams.reduce((acc, team) => acc + (team.isPlaying ? 1 : 0), 0);\n    const value = Math.log2(numberOfPlayingTeams);\n    setIsDisabled(value === 0 || value % 1 !== 0);\n  }, [teams]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"start\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"button button--primary\",\n      disabled: isDisabled,\n      onClick: onStartMatch,\n      children: \"Play\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/match/results\",\n      className: \"\",\n      children: \"Match Results\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_s(Start, \"17ski/09gWfui8l9rMYmi7dcGl4=\", false, function () {\n  return [useTeamContext];\n});\n_c = Start;\nexport default Start;\nvar _c;\n$RefreshReg$(_c, \"Start\");","map":{"version":3,"names":["axios","useEffect","useState","Link","useTeamContext","jsxDEV","_jsxDEV","Start","_s","api","teams","isDisabled","setIsDisabled","onStartMatch","e","data","filter","_ref","isPlaying","map","_ref2","teamId","teamName","id","name","get","error","console","message","numberOfPlayingTeams","reduce","acc","team","value","Math","log2","className","children","disabled","onClick","fileName","_jsxFileName","lineNumber","columnNumber","to","_c","$RefreshReg$"],"sources":["/Users/abaghla/Spring/client 2/src/components/start/Start.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useTeamContext } from \"../../context/TeamContext\";\nimport \"./start.css\";\n\nconst Start = () => {\n  const api = \"http://localhost:8080/match/play\";\n  const { teams } = useTeamContext();\n  const [isDisabled, setIsDisabled] = useState(false);\n\n  const onStartMatch = async (e) => {\n    try {\n      const data = teams\n        .filter(({ isPlaying }) => isPlaying)\n        .map(({ teamId, teamName }) => ({ id: teamId, name: teamName }));\n      await axios.get(api, data);\n    } catch (error) {\n      console.error(error.message);\n    }\n  };\n\n  useEffect(() => {\n    const numberOfPlayingTeams = teams.reduce(\n      (acc, team) => acc + (team.isPlaying ? 1 : 0),\n      0\n    );\n    const value = Math.log2(numberOfPlayingTeams);\n    setIsDisabled(value === 0 || value % 1 !== 0);\n  }, [teams]);\n\n  return (\n    <div className=\"start\">\n      <button\n        className=\"button button--primary\"\n        disabled={isDisabled}\n        onClick={onStartMatch}\n      >\n        Play\n      </button>\n      <Link to=\"/match/results\" className=\"\"> \n      Match Results\n      </Link>\n    </div>\n  );\n};\n\nexport default Start;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,IAAI,QAAQ,kBAAkB;AACvC,SAASC,cAAc,QAAQ,2BAA2B;AAC1D,OAAO,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErB,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAMC,GAAG,GAAG,kCAAkC;EAC9C,MAAM;IAAEC;EAAM,CAAC,GAAGN,cAAc,EAAE;EAClC,MAAM,CAACO,UAAU,EAAEC,aAAa,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAEnD,MAAMW,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChC,IAAI;MACF,MAAMC,IAAI,GAAGL,KAAK,CACfM,MAAM,CAACC,IAAA;QAAA,IAAC;UAAEC;QAAU,CAAC,GAAAD,IAAA;QAAA,OAAKC,SAAS;MAAA,EAAC,CACpCC,GAAG,CAACC,KAAA;QAAA,IAAC;UAAEC,MAAM;UAAEC;QAAS,CAAC,GAAAF,KAAA;QAAA,OAAM;UAAEG,EAAE,EAAEF,MAAM;UAAEG,IAAI,EAAEF;QAAS,CAAC;MAAA,CAAC,CAAC;MAClE,MAAMtB,KAAK,CAACyB,GAAG,CAAChB,GAAG,EAAEM,IAAI,CAAC;IAC5B,CAAC,CAAC,OAAOW,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAACE,OAAO,CAAC;IAC9B;EACF,CAAC;EAED3B,SAAS,CAAC,MAAM;IACd,MAAM4B,oBAAoB,GAAGnB,KAAK,CAACoB,MAAM,CACvC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,IAAIC,IAAI,CAACd,SAAS,GAAG,CAAC,GAAG,CAAC,CAAC,EAC7C,CAAC,CACF;IACD,MAAMe,KAAK,GAAGC,IAAI,CAACC,IAAI,CAACN,oBAAoB,CAAC;IAC7CjB,aAAa,CAACqB,KAAK,KAAK,CAAC,IAAIA,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC;EAC/C,CAAC,EAAE,CAACvB,KAAK,CAAC,CAAC;EAEX,oBACEJ,OAAA;IAAK8B,SAAS,EAAC,OAAO;IAAAC,QAAA,gBACpB/B,OAAA;MACE8B,SAAS,EAAC,wBAAwB;MAClCE,QAAQ,EAAE3B,UAAW;MACrB4B,OAAO,EAAE1B,YAAa;MAAAwB,QAAA,EACvB;IAED;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAS,eACTrC,OAAA,CAACH,IAAI;MAACyC,EAAE,EAAC,gBAAgB;MAACR,SAAS,EAAC,EAAE;MAAAC,QAAA,EAAC;IAEvC;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAO;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACH;AAEV,CAAC;AAACnC,EAAA,CAvCID,KAAK;EAAA,QAESH,cAAc;AAAA;AAAAyC,EAAA,GAF5BtC,KAAK;AAyCX,eAAeA,KAAK;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}